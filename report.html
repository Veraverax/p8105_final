<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Report</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About Us</a>
</li>
<li>
  <a href="plotly.html">Exploratory Graphs</a>
</li>
<li>
  <a href="regression.html">Regression Analysis</a>
</li>
<li>
  <a href="mapping.html">Maps</a>
</li>
<li>
  <a href="https://github.com/Veraverax/p8105_final/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Report</h1>

</div>


<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(leaflet)
library(ggplot2)
library(plotly)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>library(readxl)

knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = &quot;90%&quot;
)
theme_set(theme_minimal() + theme(legend.position = &quot;bottom&quot;))
options(
  ggplot2.continuous.colour = &quot;viridis&quot;,
  ggplot2.continuous.fill = &quot;viridis&quot;
)
scale_colour_discrete = scale_color_viridis_d
scale_fill_discrete = scale_fill_viridis_d</code></pre>
<pre class="r"><code>wine_df = 
  read_csv(
  &quot;./wine_data/tidy/wine_all.csv&quot;)</code></pre>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   X1 = col_double(),
##   country = col_character(),
##   description = col_character(),
##   designation = col_character(),
##   points = col_double(),
##   price = col_double(),
##   province = col_character(),
##   region_1 = col_character(),
##   taster_name = col_character(),
##   title = col_character(),
##   variety = col_character(),
##   winery = col_character(),
##   year = col_double(),
##   new_world = col_logical(),
##   old_world = col_logical(),
##   type = col_character()
## )</code></pre>
<pre class="r"><code>### remove region 2, taster twitter and missing values in region 1.

#wine_type &lt;- read_csv(&quot;./wine_data/winemag-data-130k-v2.csv&quot;) %&gt;% 
#            group_by(variety) %&gt;% 
#            count() %&gt;% 
#            arrange(desc(n)) %&gt;% 
#            as.tibble()</code></pre>
<p>Your report should include the following topics. Depending on your project type the amount of discussion you devote to each of them will vary:</p>
<div id="motivation" class="section level1">
<h1>Motivation:</h1>
<p>This dataset offers us a great opportunity to explore what factors are associated with wine ratings. We hope to conduct regression analysis of the wine rating and price based on location/grape type/notes/region and see if there are significant difference among these categorical predictors. The regression model would help customers estimate and predict wine rating with a series of wine characteristics. We also want to provide people with a interactive website to visualize wine ratings and prices.</p>
<p>#Related work:</p>
<p>Anything that inspired you, such as a paper, a web site, or something we discussed in class.</p>
<p>#Initial questions:</p>
<ol style="list-style-type: decimal">
<li>Wine distribution worldwide:</li>
</ol>
<ul>
<li>correspond to the world map</li>
<li>correspond to the word cloud</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Understanding the points and price distribution:</li>
</ol>
<ul>
<li>Points difference between a) wine type, b) region</li>
<li>Price difference between a) wine type, b) region</li>
<li>Change of price and points over time</li>
</ul>
<pre class="r"><code>#plots from plotly
#anova analysis</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Linear model - predict Based on the information we have about a bottle of wine, how can we predict the price and points?</li>
</ol>
<p>What questions are you trying to answer? How did these questions evolve over the course of the project? What new questions did you consider in the course of your analysis?</p>
<ol start="4" style="list-style-type: decimal">
<li>Didn’t address yet - interactive plot (shiny)</li>
</ol>
<ul>
<li>filter by price</li>
<li>filter by country</li>
<li>filter by wine type</li>
</ul>
</div>
<div id="data" class="section level1">
<h1>Data:</h1>
<p>Source, scraping method, cleaning, etc.</p>
<p>The data for this project is downloaded from <a href="https://www.kaggle.com/zynicide/wine-reviews">Kaggle</a>. It was scraped on November 22nd, 2017 from the <a href="https://www.winemag.com/?s=&amp;drink_type=wine">WineEnthusiast Rating database</a>. Wine Enthusiast is a magazine provide information on wine quality, wine variety, tours and events—in short - everything about wine.</p>
<p>This dataset contains 129971 wine reviews with variety, location, winery, price, description and reviewer information. There is much information on description and title on each wine. We had extracted from the text of useful information such as the year the wine was made in and the characteristics of the taste.</p>
<div id="variables-of-interest" class="section level3">
<h3><em>Variables of interest</em></h3>
<pre class="r"><code>## Vera in charge of editing this sector</code></pre>
<div id="outcomes" class="section level5">
<h5><strong>Outcomes</strong></h5>
<ul>
<li><code>price</code> . Count of evictions (or eviction filings) per year at the census tract level.</li>
<li><code>rating</code>. Calculated using number of evictions or eviction filings divided by the number of <code>renter_occupied_households</code> and multiplied by 100, to be interpreted as a percentage.</li>
</ul>
</div>
<div id="candidate-predictors" class="section level5">
<h5><strong>Candidate Predictors</strong></h5>
<ul>
<li><code>years_since_2010</code>. Since our data range from 2010 to 2016, and we did not want to assume a constant effect of time, we included year as a set of indicator variables in all models except our empty model (see below).</li>
<li><code>hisp</code>. Percent of population (at census tract level, for all race/ethnicity variables) that self-report Hispanic ethnicity.</li>
<li><code>white</code>. Percent self-reporting White race.</li>
<li><code>black</code>. Percent self-reporting Black race.</li>
<li><code>asian</code>. Percent self-reporting Asian race.</li>
<li><code>aian</code>. Percent self-reporting American Indian / Alaska Native race.</li>
<li><code>nhpi</code>. Percent self-reporting Native Hawaiian / Pacific Islander race.</li>
<li><code>other</code>. Percent self-reporting other race.</li>
<li><code>rent_burden</code>. Average percent of income spent on rent.</li>
<li><code>density</code>. Population density.</li>
<li><code>pct_eng</code>. Percent of population who speak English less than ‘Very Well’. This is interpreted as a proxy for percent English as a second language (ESL) speakers.</li>
<li><code>median_household_income</code>. Median census tract household income in USD.</li>
<li><code>poverty_rate</code>. Percent living below Federal Poverty Line (FPL).</li>
<li><code>median_gross_rent</code>. Median census tract gross rent in USD.</li>
<li><code>pct_renter_occupied</code>. Percent of census tract occupied by renters.</li>
<li><code>median_property_value</code>. Median census tract property value in USD.</li>
<li><code>family_size</code>. Average family size in census tract.</li>
<li><code>pct_fam_households</code>. Percentage of census tract households that contain families.</li>
</ul>
<p>At first, the dataset contains more than 50 wine varieties and it is hard to get useful information. Therefore, we had categorized all varieties to four types of wine: red, white, rose and sparkling according to the following infographics on <a href="https://winefolly.com/deep-dive/different-types-of-wine/">Wine Folly</a>.</p>
</div>
</div>
</div>
<div id="exploratory-analysis" class="section level1">
<h1>Exploratory analysis:</h1>
<div id="visualizations" class="section level3">
<h3>Visualizations</h3>
<p>In order to make the US map and World map, we created two separate datasets. The US dataset contained only wines that were from the US.</p>
<pre class="r"><code>wine_tidy_df = 
  read_csv(
  &quot;./wine_data/tidy/wine_all.csv&quot;) %&gt;% 
  janitor::clean_names()</code></pre>
<pre class="r"><code>wine_us = wine_tidy_df %&gt;% 
  filter(country == &quot;US&quot;) %&gt;%
  rename(
    state = province) %&gt;% 
  mutate(
   state = na_if(state, &quot;America&quot;)
 ) %&gt;%
  select(state, points, price) %&gt;% 
  drop_na() %&gt;% 
  group_by(state) %&gt;%
  summarise(
    total = n(),
    avg_rating = mean(points),
    avg_price = mean(price)
  ) %&gt;%
  mutate(
    avg_rating = round(avg_rating, 0), 
    avg_price = round(avg_price, 2)
    ) %&gt;% 
  arrange(desc(total))</code></pre>
<pre class="r"><code>wine_us_missing = wine_tidy_df %&gt;% 
  filter(country == &quot;US&quot;) %&gt;%
  rename(
    state = province) %&gt;% 
  select(state, points, price) %&gt;% 
  mutate(
   state = na_if(state, &quot;America&quot;)
 )

purrr::map(wine_us_missing, ~ sum(is.na(.)))</code></pre>
<pre class="r"><code>wine_by_country = wine_tidy_df %&gt;% 
 mutate(
   country = recode(country, US = &quot;United States&quot;)
 ) %&gt;% 
  select(country, points, price) %&gt;% 
  group_by(country) %&gt;%
  drop_na() %&gt;% 
  summarise(
    total = n(),
    avg_rating = mean(points),
    avg_price = mean(price)
  ) %&gt;%
  mutate(
    avg_rating = round(avg_rating, 0), 
    avg_price = round(avg_price, 2)
    ) %&gt;% 
  arrange(desc(total))</code></pre>
<pre class="r"><code>wine_country_missing = wine_tidy_df %&gt;% 
 mutate(
   country = recode(country, US = &quot;United States&quot;)
 ) %&gt;% 
  select(country, points, price)

purrr::map(wine_country_missing, ~ sum(is.na(.)))</code></pre>
<p>Wines that contained missing prices and state or country information were removed from the dataset. Among all wines made in the US, there were several wines that were labeled as America under state. Those wines were recoded as missing state values and removed from the US dataset. From the US dataset, there were 95 wines that did not have a state value and 239 wines that were missing a price. From the world dataset, there were 63 wines that missing country information and 8996 wines that did not have a price listed. All wines in the dataset had a rating. As the number of missing values was relatively small in comparison to the total number of observations, all wines that contained missing information on wine origin and price were excluded from the map.</p>
<p>For each dataset, we used <code>summarise</code> to generate average ratings and average prices for each state or country, along with the total count of all wines from each state or country. Average ratings was rounded to the nearest whole number and prices were rounded to 2 decimal points.</p>
<pre class="r"><code>states &lt;- states(cb = TRUE)

states %&gt;% 
  leaflet() %&gt;% 
  addTiles() %&gt;% 
  addPolygons(popup = ~NAME)

states_merged_wine &lt;- geo_join(states, wine_us, &quot;NAME&quot;, &quot;state&quot;)

mybins &lt;- c(0,100,1000,8000,10000,40000)
mypal &lt;- colorBin(palette = &quot;Purples&quot;, domain = states_merged_wine$total, na.color = &quot;transparent&quot;, bins = mybins)

states_merged_wine &lt;- subset(states_merged_wine, !is.na(total))

popup &lt;- paste0(
  states_merged_wine$NAME,&quot;&lt;br&gt;&quot;, 
  &quot;Total Wines: &quot;, states_merged_wine$total, &quot;&lt;br&gt;&quot;, 
      &quot;Avg Rating: &quot;, states_merged_wine$avg_rating, &quot;&lt;br&gt;&quot;,
      &quot;Avg Price: $&quot;, states_merged_wine$avg_price,&quot;&lt;br&gt;&quot;
      )

state_map = states_merged_wine %&gt;% 
  leaflet() %&gt;%
  addProviderTiles(&quot;CartoDB.Positron&quot;) %&gt;%
  setView(-98.483330, 38.712046, zoom = 4) %&gt;% 
  addPolygons(
    fillColor = ~mypal(total), 
    fillOpacity = 1.0, 
    weight = 0.4, 
    smoothFactor = 0.2, 
    popup = ~popup) %&gt;% 
  addLegend(pal = mypal, 
            values = states_merged_wine$total, 
            position = &quot;bottomright&quot;, 
            title = &quot;Wines&quot;)</code></pre>
<pre class="r"><code>world_spdf &lt;- readOGR( 
  dsn = paste0(getwd(),&quot;/wine_data/world_shape_file/&quot;) , 
  layer = &quot;TM_WORLD_BORDERS_SIMPL-0.3&quot;,
  verbose = FALSE
)

world_spdf %&gt;% 
  leaflet() %&gt;% 
  addTiles() %&gt;% 
  addPolygons(popup = ~NAME)

countries_merged_wine &lt;- geo_join(world_spdf, wine_by_country, &quot;NAME&quot;, &quot;country&quot;)

world_bins &lt;- c(0,100,1000,10000,20000,30000,60000)
world_pal &lt;- colorBin(palette = &quot;RdPu&quot;, domain = countries_merged_wine$total, na.color = &quot;transparent&quot;, bins = world_bins)

countries_merged_wine &lt;- subset(countries_merged_wine, !is.na(total))

world_popup &lt;- paste0(
  countries_merged_wine$country,&quot;&lt;br&gt;&quot;, 
  &quot;Wines: &quot;, countries_merged_wine$total, &quot;&lt;br&gt;&quot;, 
      &quot;Avg Rating: &quot;, countries_merged_wine$avg_rating, &quot;&lt;br&gt;&quot;,
      &quot;Avg Price: $&quot;, countries_merged_wine$avg_price,&quot;&lt;br&gt;&quot;
      )

world_map_labels = countries_merged_wine %&gt;% 
  leaflet() %&gt;%
  addMapPane(name = &quot;polygons&quot;, zIndex = 410) %&gt;% 
  addMapPane(name = &quot;maplabels&quot;, zIndex = 420) %&gt;% 
  addProviderTiles(&quot;CartoDB.PositronNoLabels&quot;) %&gt;%
  addProviderTiles(&quot;CartoDB.PositronOnlyLabels&quot;, 
                   options = leafletOptions(pane = &quot;maplabels&quot;),
                   group = &quot;labels&quot;) %&gt;%
  setView( lat = 10, lng = 0 , zoom = 2) %&gt;% 
  addPolygons(
    fillColor = ~world_pal(total), 
    fillOpacity = 1.0, 
    group = &quot;country&quot;,
    weight = 0.4, 
    smoothFactor = 0.2, 
    popup = ~world_popup,
    options = leafletOptions(pane = &quot;polygons&quot;)) %&gt;% 
  addLayersControl(overlayGroups = c(&quot;labels&quot;)) %&gt;% 
  addLegend(pal = world_pal, 
            values = countries_merged_wine$total, 
            position = &quot;bottomright&quot;, 
            title = &quot;Wines&quot;)</code></pre>
<p><br><img src="image/us_map.png" alt="us_map" style="width:65%; border:2px solid"><br></p>
<p><br><img src="image/world_map.png" alt="world_map" style="width:65%; border:2px solid"><br></p>
<p>Static Map???</p>
<pre class="r"><code>world_static = map_data(&quot;world&quot;) %&gt;%
  left_join(wine_by_country, by = c(&quot;region&quot; = &quot;country&quot;))

ggplot(data = world_static, 
               mapping = aes(x = long, y = lat, group = group)) +
  geom_polygon(aes(fill = avg_rating)) +
  scale_fill_continuous(low = &quot;rosybrown1&quot;, high = &quot;darkred&quot;, 
                        na.value = &quot;snow2&quot;) +
  coord_map(xlim = c(-180,180), ylim = c(-60, 80)) +
  theme(
    axis.title.x = element_blank(),
    axis.text.x  = element_blank(),
    axis.ticks.x = element_blank(),
    axis.title.y = element_blank(),
    axis.text.y  = element_blank(),
    axis.ticks.y = element_blank(),
    panel.background = element_rect(fill = &quot;white&quot;))</code></pre>
</div>
<div id="summaries-and" class="section level3">
<h3>summaries, and</h3>
</div>
<div id="exploratory-statistical-analyses" class="section level3">
<h3>exploratory statistical analyses</h3>
<p>anova 2-sample ttest.</p>
<p>Justify the steps you took, and show any major changes to your ideas.</p>
<p>#Additional analysis: If you undertake formal statistical analyses, describe these in detail</p>
</div>
<div id="linear-model---multivariate" class="section level3">
<h3>linear model - multivariate</h3>
</div>
<div id="linear-model---name-tbd" class="section level3">
<h3>linear model - name TBD</h3>
</div>
<div id="linear-model---cross-validation" class="section level3">
<h3>linear model - cross validation</h3>
<p>#Discussion: What were your findings? Are they what you expect? What insights into the data can you make?</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
